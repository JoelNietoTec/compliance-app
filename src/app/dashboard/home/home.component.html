<div class="row">

  <div class="col-md-4">
    <app-chart-card *ngIf="byRisk" [items]="byRisk" [data]="'Count'" [label]="'Rate'" [options]="riskChartOptions" [type]="'doughnut'"
      [colors]="riskColors">
    </app-chart-card>
    <app-chart-card *ngIf="_tasks" [items]="_tasks" [data]="'Count'" [label]="'Status'" [options]="tasksChartOptions" [type]="'doughnut'"
      [colors]="riskColors"></app-chart-card>
    <app-chart-card *ngIf="_partTasks" [items]="_partTasks" [data]="'Count'" [label]="'Status'" [options]="tasksChartOptions"
      [type]="'doughnut'" [colors]="riskColors"></app-chart-card>
    <app-chart-card  *ngIf="_tasks" [items]="_tasks" [data]="'Count'" [label]="'Status'" [options]="tasksChartOptions" [type]="'doughnut'">
    </app-chart-card>
  </div>

  <div class="col-md-8">
    <app-loading-modal *ngIf="!byRisk"></app-loading-modal>
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">
          <i class="fa fa-globe" aria-hidden="true"></i> Distribución Global</h4>
        <agm-map [zoom]="2">
          <ng-container *ngFor="let address of _addresses">
            <agm-marker *ngIf="address.geometry" [openInfoWindow]=true [title]="address.formatted_address" [latitude]="address.geometry.location.lat"
              [longitude]="address.geometry.location.lng"></agm-marker>
          </ng-container>
        </agm-map>
      </div>
    </div>
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">
          <i class="far fa-flag" aria-hidden="true"></i> Distribución por País</h4>
        <app-map *ngIf="_countries" [regions]="_countries"></app-map>
      </div>
    </div>
  </div>
</div>
