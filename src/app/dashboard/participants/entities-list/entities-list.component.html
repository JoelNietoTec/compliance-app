<div class="container-fluid">
  <h4 class="card-title">All Entities</h4>
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <div class="inner-addon left-addon">
          <i class="fa fa-search text-muted" aria-hidden="true"></i>
          <input type="search" class="form-control" [(ngModel)]="_searchText" (ngModelChange)="filterEntities()" placeholder="Search">
        </div>
      </div>
    </div>
  </div>

  <table class="table table-sm">
    <thead>
      <tr>
        <th (click)="sort('ID')">ID
          <app-sort-icon *ngIf="_sortTerm.column =='ID'" [type]="'numeric'" [desc]="_sortTerm.desc"></app-sort-icon>
        </th>
        <th (click)="sort('FirstName')">Bussiness Name
          <app-sort-icon *ngIf="_sortTerm.column =='FirstName'" [type]="'alpha'" [desc]="_sortTerm.desc"></app-sort-icon>
        </th>
        <th (click)="sort('SecondName')">Commercial Name
          <app-sort-icon *ngIf="_sortTerm.column =='SecondName'" [type]="'alpha'" [desc]="_sortTerm.desc"></app-sort-icon>
        </th>
        <th (click)="sort('BirthDate')">Constitution Date
          <app-sort-icon *ngIf="_sortTerm.column =='BirthDate'" [type]="'alpha'" [desc]="_sortTerm.desc"></app-sort-icon>
        </th>
        <th (click)="sort('Email')">Email
          <app-sort-icon *ngIf="_sortTerm.column =='Email'" [type]="'alpha'" [desc]="_sortTerm.desc"></app-sort-icon>
        </th>
        <th (click)="sort('WebSite')">WebSite
          <app-sort-icon *ngIf="_sortTerm.column =='WebSite'" [type]="'alpha'" [desc]="_sortTerm.desc"></app-sort-icon>
        </th>
        <th (click)="sort('Score')">Score
          <app-sort-icon *ngIf="_sortTerm.column =='Score'" [type]="'numeric'" [desc]="_sortTerm.desc"></app-sort-icon>
        </th>
        <th (click)="sort('Score')">Rate
          <app-sort-icon *ngIf="_sortTerm.column =='Rate'" [type]="'numeric'" [desc]="_sortTerm.desc"></app-sort-icon>
        </th>
        <th class="text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let entity of _filterEntities">
        <td>{{ entity.ID }}</td>
        <td>{{ entity.FirstName }}</td>
        <td>{{ entity.SecondName }}</td>
        <td>{{ entity.BirthDate | date: 'mediumDate' }}</td>
        <td>{{ entity.Email }}</td>
        <td>{{ entity.WebSite }}</td>
        <td class="font-weight-bold" [ngClass]="{'text-success': entity.Score < 3, 'text-warning': entity.Score > 2.99 && entity.Score < 5.99, 'text-danger': entity.Score > 5.99 }">{{ entity.Score | number: '1.3-3' }}</td>
        <td class="font-weight-bold" [ngClass]="{'text-muted': !entity.Score, 'text-success': entity.Score < 3, 'text-warning': entity.Score > 2.99 && entity.Score < 5.99, 'text-danger': entity.Score > 5.99 }">{{ entity.Rate }}</td>
        <td class="text-center">
          <a [routerLink]="[entity.ID]" class="btn btn-outline-primary btn-sm" placement="left" ngbTooltip="Details"><i class="fa fa-eye" aria-hidden="true"></i></a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
